# Гибридный эмулятор нелинейных характеристик электронных компонентов

![Статус проекта](https://img.shields.io/badge/Статус-В_разработке-yellow)
![Python](https://img.shields.io/badge/Python-3.9%2B-blue)
![PyTorch](https://img.shields.io/badge/PyTorch-2.0%2B-red)

## Описание проекта

Данное программное обеспечение представляет собой систему гибридного моделирования и эмуляции нелинейных вольт-амперных характеристик электронных компонентов с использованием рекуррентных нейронных сетей (RNN). 

Система позволяет:
- Загружать параметрические модели электронных компонентов из Verilog-A описаний
- Генерировать тренировочные данные на основе физических моделей или SPICE-симуляции
- Обучать гибридные RNN-модели, сочетающие физическое моделирование и машинное обучение
- Прогнозировать статические и динамические характеристики компонентов
- Экспортировать обученные модели в формат ONNX для использования в других программах
- Создавать Verilog-A обертки для интеграции в САПР электронных схем

## Функциональные возможности

- **Парсинг Verilog-A**: автоматическое извлечение параметров и структуры моделей
- **Генерация сигналов**: различные типы входных сигналов (синусоидальные, ступенчатые, линейные развертки)
- **Физическое моделирование**: встроенные модели диодов, транзисторов и мемристоров
- **SPICE-интеграция**: возможность использования SPICE для точного моделирования
- **Нейросетевое моделирование**: физически-информированные RNN с различными архитектурами
- **Валидация моделей**: расчет метрик качества (MSE, MAE, R²)
- **Экспорт моделей**: поддержка формата ONNX с опциональной поддержкой динамических осей
- **Интуитивный GUI**: графический интерфейс для всех этапов работы

## Установка

### Предварительные требования

- Python 3.9 или выше
- [ngspice](http://ngspice.sourceforge.net/) (опционально для SPICE-моделирования)
- [PyTorch](https://pytorch.org/) (с поддержкой CUDA для ускорения на GPU)

### Установка с помощью Poetry (рекомендуется)

```bash
# Клонирование репозитория
git clone https://github.com/username/rnn-nonlinear-components.git
cd rnn-nonlinear-components

# Установка зависимостей с помощью Poetry
poetry install

# Активация виртуального окружения
poetry shell

# Запуск программы
python main.py
```

### Установка с помощью pip

```bash
# Клонирование репозитория
git clone https://github.com/username/rnn-nonlinear-components.git
cd rnn-nonlinear-components

# Создание виртуального окружения
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# Установка зависимостей
pip install -r requirements.txt

# Запуск программы
python main.py
```

## Использование

1. **Загрузка Verilog-A модели**:
   - Нажмите "Загрузить параметры" и выберите Verilog-A файл
   - Программа автоматически извлечет параметры и структуру модели

2. **Настройка параметров**:
   - Задайте тип устройства (диод, транзистор, мемристор)
   - При необходимости отредактируйте значения параметров
   - Настройте параметры RNN (размер скрытого слоя, количество слоев)

3. **Генерация сигналов**:
   - Выберите тип входного сигнала
   - Задайте параметры сигнала (амплитуда, длительность)
   - Используйте "Предпросмотр сигнала" для визуализации

4. **Обучение модели**:
   - Настройте параметры обучения (эпохи, размер партии, learning rate)
   - Нажмите "Обучить" и дождитесь завершения процесса
   - Анализируйте график процесса обучения

5. **Прогнозирование характеристик**:
   - Используйте "Динамический отклик" для прогноза временных характеристик
   - Используйте "Статическая ВАХ" для построения вольт-амперных характеристик
   - Рассчитывайте метрики качества модели

6. **Экспорт модели**:
   - Экспортируйте модель в формат ONNX для использования в других системах
   - Генерируйте Verilog-A обертку для интеграции в САПР

## Структура проекта

```
.
├── main.py             # Основной файл программы
├── gui.py              # Модуль графического интерфейса
├── parser.py           # Парсер Verilog-A файлов
├── generator.py        # Генератор сигналов
├── simulator.py        # Физические модели устройств
├── spice_interface.py  # Интерфейс для SPICE-симуляции
├── rnn_model.py        # Определение и обучение RNN-моделей
├── requirements.txt    # Зависимости pip
├── pyproject.toml      # Конфигурация Poetry
└── README.md           # Документация
```

## Примеры

### Пример обучения и прогнозирования для диода

1. Загрузите Verilog-A файл с моделью диода
2. Выберите тип устройства "Диод"
3. Настройте параметры RNN (hidden_size=64, layers=2)
4. Выберите синусоидальный сигнал (Vmin=-1, Vmax=1)
5. Обучите модель (epochs=100, batch_size=32)
6. Постройте статическую ВАХ и сравните с физической моделью

### Пример экспорта для интеграции в САПР

1. Обучите модель как описано выше
2. Экспортируйте модель в ONNX формат
3. Сгенерируйте Verilog-A обертку
4. Интегрируйте в САПР, следуя документации САПР

## Вклад в проект

Мы приветствуем вклады в проект! Если вы хотите внести свой вклад:

1. Форкните репозиторий
2. Создайте ветку для вашей функции (`git checkout -b feature/amazing-feature`)
3. Зафиксируйте ваши изменения (`git commit -m 'Add some amazing feature'`)
4. Отправьте изменения в ветку (`git push origin feature/amazing-feature`)
5. Откройте Pull Request

## Лицензия

Данный проект распространяется под лицензией MIT. Подробнее см. файл `LICENSE`.

## Благодарности

- Исследовательская группа по физически-информированным нейронным сетям
- Сообщество разработчиков PyTorch
- Разработчики ngspice за их вклад в симуляцию электронных схем 